- defaults:
    link:
      relink: true

- create:
    ~/.config:
    ~/.config/git:
    ~/.config/shell:
    ~/.config/shell/plugins:
    ~/.config/zsh:
    ~/.config/zsh/plugins:
    ~/Projects:

- shell:
    command: chmod 0700 ~/.config ~/.config/git ~/.config/shell ~/.config/shell/plugins ~/.config/zsh ~/.config/zsh/plugins ~/Projects
    description: Setting directory permissions
    quiet: true

- clean:
    ~/:
    ~/.config:
      recursive: true

- link:
    ~/.dotfiles:
      if: 'if [[ ! -L ~/.dotfiles && -d ~/.dotfiles && ! -e ~/Projects/dotfiles ]]; then mv ~/.dotfiles ~/Projects/dotfiles; fi'
      path: ~/Projects/dotfiles
    ~/.Brewfile:
    ~/.config/git/ignore: config/git/ignore
    ~/.config/shell/environment.sh: config/shell/environment.sh
    ~/.config/shell/functions.sh: config/shell/functions.sh
    ~/.config/shell/path.sh: config/shell/path.sh
    ~/.config/zsh/plugins/antigen.zsh: config/zsh/plugins/antigen.zsh
    ~/.config/zsh/settings.zsh: config/zsh/settings.zsh
    ~/.gitconfig:
      force: true
    ~/.zprofile:
    ~/.zshenv:
    ~/.zshrc:

- shell:
  - [git submodule update --init --recursive, Installing submodules]
