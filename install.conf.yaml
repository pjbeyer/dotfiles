- defaults:
    link:
      relink: true

- create:
    ~/.config:
    ~/.config/git:
    ~/Projects:

- shell:
  -
    command: chmod 0700 ~/.config ~/.config/git ~/Projects
    description: Setting directory permissions
    quiet: true

- clean:
    ~/:
    ~/.config:
      recursive: true

- link:
    ~/.dotfiles:
      if: 'if [[ ! -L ~/.dotfiles && -d ~/.dotfiles && ! -e ~/Projects/dotfiles ]]; then mv ~/.dotfiles ~/Projects/dotfiles; fi'
      path: ~/Projects/dotfiles
    ~/.config/git/ignore: config/git/ignore
    ~/.config/homebrew: config/homebrew
    ~/.config/macos: config/macos
    ~/.config/shell: config/shell
    ~/.config/zsh: config/zsh
    ~/.gitconfig:
      force: true
    ~/.zshenv:

- shell:
  - [git submodule update --init --recursive, Installing submodules]
